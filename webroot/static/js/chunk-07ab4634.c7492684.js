(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07ab4634"],{"0625":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:e.transitionName}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"back-to-ceiling",style:e.customStyle,on:{click:e.backToTop}},[i("svg",{staticClass:"Icon Icon--backToTopArrow",staticStyle:{height:"16px",width:"16px"},attrs:{width:"16",height:"16",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"}},[i("path",{attrs:{d:"M12.036 15.59a1 1 0 0 1-.997.995H5.032a.996.996 0 0 1-.997-.996V8.584H1.03c-1.1 0-1.36-.633-.578-1.416L7.33.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.004z"}})])])])},n=[],r=(i("c5f6"),{name:"BackToTop",props:{visibilityHeight:{type:Number,default:400},backPosition:{type:Number,default:0},customStyle:{type:Object,default:function(){return{right:"50px",bottom:"50px",width:"40px",height:"40px","border-radius":"4px","line-height":"45px",background:"#e7eaf1"}}},transitionName:{type:String,default:"fade"}},data:function(){return{visible:!1,interval:null,isMoving:!1}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),this.interval&&clearInterval(this.interval)},methods:{handleScroll:function(){this.visible=window.pageYOffset>this.visibilityHeight},backToTop:function(){var e=this;if(!this.isMoving){var t=window.pageYOffset,i=0;this.isMoving=!0,this.interval=setInterval((function(){var a=Math.floor(e.easeInOutQuad(10*i,t,-t,500));a<=e.backPosition?(window.scrollTo(0,e.backPosition),clearInterval(e.interval),e.isMoving=!1):window.scrollTo(0,a),i++}),16.7)}},easeInOutQuad:function(e,t,i,a){return(e/=a/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}}}),s=r,o=(i("e7be"),i("2877")),c=Object(o["a"])(s,a,n,!1,null,"053f1ae1",null);t["a"]=c.exports},"28a5":function(e,t,i){"use strict";var a=i("aae3"),n=i("cb7c"),r=i("ebd6"),s=i("0390"),o=i("9def"),c=i("5f1b"),l=i("520a"),u=i("79e5"),f=Math.min,d=[].push,h="split",g="length",p="lastIndex",v=4294967295,b=!u((function(){RegExp(v,"y")}));i("214f")("split",2,(function(e,t,i,u){var m;return m="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[g]||2!="ab"[h](/(?:ab)*/)[g]||4!="."[h](/(.?)(.?)/)[g]||"."[h](/()()/)[g]>1||""[h](/.?/)[g]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(n,e,t);var r,s,o,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?v:t>>>0,b=new RegExp(e.source,u+"g");while(r=l.call(b,n)){if(s=b[p],s>f&&(c.push(n.slice(f,r.index)),r[g]>1&&r.index<n[g]&&d.apply(c,r.slice(1)),o=r[0][g],f=s,c[g]>=h))break;b[p]===r.index&&b[p]++}return f===n[g]?!o&&b.test("")||c.push(""):c.push(n.slice(f)),c[g]>h?c.slice(0,h):c}:"0"[h](void 0,0)[g]?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,a){var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n,a):m.call(String(n),i,a)},function(e,t){var a=u(m,e,this,t,m!==i);if(a.done)return a.value;var l=n(e),d=String(this),h=r(l,RegExp),g=l.unicode,p=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),y=new h(b?l:"^(?:"+l.source+")",p),x=void 0===t?v:t>>>0;if(0===x)return[];if(0===d.length)return null===c(y,d)?[d]:[];var N=0,T=0,w=[];while(T<d.length){y.lastIndex=b?T:0;var k,I=c(y,b?d:d.slice(T));if(null===I||(k=f(o(y.lastIndex+(b?0:T)),d.length))===N)T=s(d,T,g);else{if(w.push(d.slice(N,T)),w.length===x)return w;for(var C=1;C<=I.length-1;C++)if(w.push(I[C]),w.length===x)return w;T=N=k}}return w.push(d.slice(N)),w}]}))},3846:function(e,t,i){i("9e1e")&&"g"!=/./g.flags&&i("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:i("0bfb")})},"5d58":function(e,t,i){e.exports=i("d8d6")},"67bb":function(e,t,i){e.exports=i("f921")},"6b54":function(e,t,i){"use strict";i("3846");var a=i("cb7c"),n=i("0bfb"),r=i("9e1e"),s="toString",o=/./[s],c=function(e){i("2aba")(RegExp.prototype,s,e,!0)};i("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?c((function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?n.call(e):void 0)})):o.name!=s&&c((function(){return o.call(this)}))},a1d9:function(e,t,i){},aa77:function(e,t,i){var a=i("5ca1"),n=i("be13"),r=i("79e5"),s=i("fdef"),o="["+s+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),f=function(e,t,i){var n={},o=r((function(){return!!s[e]()||c[e]()!=c})),l=n[e]=o?t(d):s[e];i&&(n[i]=l),a(a.P+a.F*o,"String",n)},d=f.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},ad87:function(e,t,i){},c1c2:function(e,t,i){"use strict";var a=i("a1d9"),n=i.n(a);n.a},c24f:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("span",[e._v("开发中")]),e._v(" "),i("el-tooltip",{attrs:{placement:"top",content:"回到顶部"}},[i("back-to-top",{attrs:{"custom-style":e.myBackToTopStyle,"visibility-height":300,"back-position":50,"transition-name":"fade"}})],1)],1)},n=[],r=(i("7f7f"),i("6b54"),i("0625")),s=i("ed08"),o={components:{BackToTop:r["a"]},filters:{statusFilter:function(e){var t={onLine:"success",offLine:"gray",noRegister:"danger"};return t[e]||"info"},interfaceTypeFilter:function(e){var t={LocalSerial:"本地串口",TcpClient:"Tcp客户端",TcpServer:"Tcp服务端"};return t[e]||"未知"},netWorkFilter:function(e){var t={onLine:"在线",noRegister:"未注册",offLine:"离线"};return t[e]||"未知"},parityFilter:function(e){return console.log(e),"N"===e?"无校验":"J"===e?"奇校验":"O"===e?"偶校验":"未知"}},data:function(){return{nodeVariableList:[],variableHisList:[],listLoading:!0,currentCollInterfaceName:"",currentDeviceAddr:"",currentVariableName:"",deviceInfo:{},listVisible:!0,cardVisible:!1,variableHisListVisible:!1,variableHisChartVisible:!0,myBackToTopStyle:{right:"50px",bottom:"50px",width:"40px",height:"40px","border-radius":"4px","line-height":"45px",background:"#e7eaf1"},title:"",deviceVarDatasVisible:!1,beginEndDataTime:"",pickerOptions:{shortcuts:[{text:"最近一小时",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-36e5),e.$emit("pick",[i,t])}},{text:"最近一天",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-864e5),e.$emit("pick",[i,t])}},{text:"最近一周",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}}]}}},computed:{lineChartData:function(){var e=this.currentVariableName,t=this.variableHisList,i=[],a=[],n=[];console.log("dataPoint"+t.length),this.beginEndDataTime&&console.log(Object(s["a"])(this.beginEndDataTime[0]));for(var r=0;r<t.length;r++){var o=t[r];parseFloat(o.Value)&&(i.push(parseFloat(o.Value)),a.push(o.TimeStamp.toString()))}return e&&n.push(e.toString()),{data:i,time:a,legend:n}},filtedData:function(){var e=this;return this.variableHisList.filter((function(t){return e.beginEndDataTime?t.TimeStamp.toString().indexOf(e.currentVariableName)>-1||t.TimeStamp.toString().indexOf(e.currentVariableName)>-1||t.TimeStamp.toString().indexOf(e.currentVariableName)>-1?t:void 0:t}))}},created:function(){},methods:{getNodeVariable:function(){this.listLoading=!0;var e=this,t="";t="./api/v1/device/nodeVariable",this.$axios({method:"get",url:t,params:{CollInterfaceName:e.currentCollInterfaceName,Addr:e.deviceInfo.Addr},headers:{token:this.$store.getters.token}}).then((function(t){var i=t.data;"0"===i.Code?(e.nodeVariableList=i.Data,e.listLoading=!1):"1"===i.Code?(e.$message.error(i.Message),e.listLoading=!1):"-1"===i.Code?(e.listLoading=!1,e.$message.error(i.Message),e.$store.dispatch("user/resetToken"),e.$router.push("/login?redirect=".concat(e.$route.fullPath))):(e.$message.error("返回未知错误，错误码："+i.Code),e.listLoading=!1)})).catch((function(t){e.$message.error("出错了"+JSON.stringify(t)),e.listLoading=!1}))},indexMethod:function(e){return e+1},goBack:function(){var e=this;this.$router.push({name:"deviceManager",params:{CollInterfaceName:e.currentCollInterfaceName}})},handleRefresh:function(){this.currentCollInterfaceName&&this.deviceInfo.Addr?this.getNodeVariable():this.$router.push("/config/interface")},handleChange:function(){this.listVisible=!this.listVisible,this.cardVisible=!this.cardVisible},changeHisDatasStyle:function(){this.variableHisListVisible=!this.variableHisListVisible,this.variableHisChartVisible=!this.variableHisChartVisible},handleSetLineChartData:function(e){var t=this,i="";i="./api/v1/system/"+e,this.$axios({method:"get",url:i,headers:{token:this.$store.getters.token}}).then((function(e){var i=e.data;if("0"===i.Code){for(var a=i.Data.Legend,n=i.Data.DataPoint,r=[],s=[],o=[],c=0;c<n.length;c++){var l=n[c];parseFloat(l.Value)&&(r.push(parseFloat(l.Value)),s.push(l.Time.toString()))}a&&o.push(a.toString()),t.lineChartData={data:r,time:s,legend:o}}else"1"===i.Code?t.$message.error(i.Message):"-1"===i.Code?(t.$message.error(i.Message),t.$store.dispatch("user/resetToken"),t.$router.push("/login?redirect=".concat(t.$route.fullPath))):t.$message.error("返回未知错误，错误码："+i.Code)})).catch((function(e){t.$message.error("出错了"+JSON.stringify(e))}))},handleClick:function(e){this.deviceVarDatasVisible=!0,this.title="查看数据 "+e.name+"("+e.lable+")",this.currentVariableName=e.name,this.getVariableHisDatas()},getVariableHisDatas:function(){var e=this,t="";t="./api/v1/device/nodeHistoryVariable",this.$axios({method:"get",url:t,params:{CollInterfaceName:e.currentCollInterfaceName,Addr:e.deviceInfo.Addr,VariableName:e.currentVariableName},headers:{token:this.$store.getters.token}}).then((function(t){var i=t.data;"0"===i.Code?e.variableHisList=i.Data:"1"===i.Code?e.$message.error(i.Message):"-1"===i.Code?(e.$message.error(i.Message),e.$store.dispatch("user/resetToken"),e.$router.push("/login?redirect=".concat(e.$route.fullPath))):e.$message.error("返回未知错误，错误码："+i.Code)})).catch((function(t){e.$message.error("出错了"+JSON.stringify(t))}))}}},c=o,l=(i("c1c2"),i("2877")),u=Object(l["a"])(c,a,n,!1,null,"19218ee0",null);t["default"]=u.exports},c5f6:function(e,t,i){"use strict";var a=i("7726"),n=i("69a8"),r=i("2d95"),s=i("5dbc"),o=i("6a99"),c=i("79e5"),l=i("9093").f,u=i("11e9").f,f=i("86cc").f,d=i("aa77").trim,h="Number",g=a[h],p=g,v=g.prototype,b=r(i("2aeb")(v))==h,m="trim"in String.prototype,y=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=m?t.trim():d(t,3);var i,a,n,r=t.charCodeAt(0);if(43===r||45===r){if(i=t.charCodeAt(2),88===i||120===i)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+t}for(var s,c=t.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>n)return NaN;return parseInt(c,a)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof g&&(b?c((function(){v.valueOf.call(i)})):r(i)!=h)?s(new p(y(t)),i,g):y(t)};for(var x,N=i("9e1e")?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;N.length>T;T++)n(p,x=N[T])&&!n(g,x)&&f(g,x,u(p,x));g.prototype=v,v.constructor=g,i("2aba")(a,h,g)}},e7be:function(e,t,i){"use strict";var a=i("ad87"),n=i.n(a);n.a},ed08:function(e,t,i){"use strict";i("28a5"),i("a481"),i("6b54");var a=i("5d58"),n=i.n(a),r=i("67bb"),s=i.n(r);function o(e){return o="function"===typeof s.a&&"symbol"===typeof n.a?function(e){return typeof e}:function(e){return e&&"function"===typeof s.a&&e.constructor===s.a&&e!==s.a.prototype?"symbol":typeof e},o(e)}function c(e,t){if(0===arguments.length)return null;var i,a=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===o(e)?i=e:("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"===typeof e&&10===e.toString().length&&(e*=1e3),i=new Date(e));var n={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),a:i.getDay()},r=a.replace(/{(y|m|d|h|i|s|a)+}/g,(function(e,t){var i=n[t];return"a"===t?["日","一","二","三","四","五","六"][i]:(e.length>0&&i<10&&(i="0"+i),i||0)}));return r}i.d(t,"a",(function(){return c}))},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);