(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b65356c"],{"4c31":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xs:24,sm:12,md:6}},[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{xs:18,sm:18,md:18}},[r("el-input",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{placeholder:"输入通信接口过滤"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1),t._v(" "),r("el-col",{attrs:{xs:6,sm:6,md:6}},[r("el-button",{attrs:{type:"primary"},on:{click:t.getAllInterface}},[t._v("刷新")])],1)],1)],1),t._v(" "),r("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xs:24,sm:12,md:18}},[r("el-button",{staticStyle:{float:"right","margin-left":"5px"},attrs:{type:"primary"},on:{click:t.addInterface}},[t._v("添加")]),t._v(" "),r("el-button",{staticStyle:{float:"right","margin-left":"5px"},attrs:{type:"primary"}},[t._v("修改")]),t._v(" "),r("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"}},[t._v("删除")])],1)],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.filtedData,"element-loading-text":"加载中","row-key":"InterfaceID",border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"通讯接口名称"}},[r("span",[t._v(t._s(e.row.InterfaceName))])])],1)]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"通讯接口名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.InterfaceName)+"\n      ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"接口类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:t._f("statusFilter")(e.row.InterfaceType)}},[t._v(t._s(t._f("interfaceTypeFilter")(e.row.InterfaceType)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"通讯时间(毫秒)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("i",{staticClass:"el-icon-time"}),t._v(" "),r("span",[t._v(t._s(e.row.PollPeriod))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"通讯超时(毫秒)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("i",{staticClass:"el-icon-time"}),t._v(" "),r("span",[t._v(t._s(e.row.OfflinePeriod))])]}}])})],1),t._v(" "),r("el-dialog",{attrs:{title:"添加通讯接口",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"接口名称"}},[r("el-input",{model:{value:t.form.InterfaceName,callback:function(e){t.$set(t.form,"InterfaceName",e)},expression:"form.InterfaceName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"通讯时间"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.PollPeriod,callback:function(e){t.$set(t.form,"PollPeriod",e)},expression:"form.PollPeriod"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"通讯超时"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.OfflinePeriod,callback:function(e){t.$set(t.form,"OfflinePeriod",e)},expression:"form.OfflinePeriod"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"接口类型"}},[r("el-select",{attrs:{placeholder:"接口类型"},model:{value:t.form.InterfaceType,callback:function(e){t.$set(t.form,"InterfaceType",e)},expression:"form.InterfaceType"}},t._l(t.InterfaceTypeList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1),t._v(" "),"localSerial"==t.form.InterfaceType?r("el-form-item",{attrs:{label:"波特率"}},[r("el-select",{attrs:{placeholder:"波特率"},model:{value:t.form.baudRate,callback:function(e){t.$set(t.form,"baudRate",e)},expression:"form.baudRate"}},t._l(t.baudRateList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1):t._e(),t._v(" "),"localSerial"==t.form.InterfaceType?r("el-form-item",{attrs:{label:"校验位"}},[r("el-select",{attrs:{placeholder:"校验位"},model:{value:t.form.parity,callback:function(e){t.$set(t.form,"parity",e)},expression:"form.parity"}},t._l(t.parityList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1):t._e(),t._v(" "),"localSerial"==t.form.InterfaceType?r("el-form-item",{attrs:{label:"数据位"}},[r("el-select",{attrs:{placeholder:"数据位"},model:{value:t.form.dataBits,callback:function(e){t.$set(t.form,"dataBits",e)},expression:"form.dataBits"}},t._l(t.dataBitsList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1):t._e(),t._v(" "),"localSerial"==t.form.InterfaceType?r("el-form-item",{attrs:{label:"停止位"}},[r("el-select",{attrs:{placeholder:"停止位"},model:{value:t.form.stopBits,callback:function(e){t.$set(t.form,"stopBits",e)},expression:"form.stopBits"}},t._l(t.stopBitsList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1):t._e(),t._v(" "),"TcpClient"==t.form.InterfaceType?r("el-form-item",{attrs:{label:"目的地址"}},[r("el-input",{model:{value:t.form.remoteIp,callback:function(e){t.$set(t.form,"remoteIp",e)},expression:"form.remoteIp"}})],1):t._e(),t._v(" "),"TcpClient"==t.form.InterfaceType?r("el-form-item",{attrs:{label:"目的端口"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.remotePort,callback:function(e){t.$set(t.form,"remotePort",e)},expression:"form.remotePort"}})],1):t._e(),t._v(" "),"TcpServer"==t.form.InterfaceType?r("el-form-item",{attrs:{label:"本地端口"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.localPort,callback:function(e){t.$set(t.form,"localPort",e)},expression:"form.localPort"}})],1):t._e()],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.saveEditInterface}},[t._v("确 定")])],1)],1)],1)},l=[],i={filters:{statusFilter:function(t){var e={localSerial:"success",TcpClient:"gray",TcpServer:"danger"};return e[t]||"info"},interfaceTypeFilter:function(t){var e={localSerial:"本地串口",TcpClient:"Tcp客户端",TcpServer:"Tcp服务端"};return e[t]||"未知"}},data:function(){return{list:null,listLoading:!0,filtedData:[],filterText:"",editVisible:!1,addVisible:!1,form:{},InterfaceTypeList:[],baudRateList:[],parityList:[],dataBitsList:[]}},created:function(){this.getAllInterface(),this.InterfaceTypeList=[{id:"localSerial",text:"本地串口"},{id:"TcpClient",text:"Tcp客户端"},{id:"TcpServer",text:"Tcp服务端"}],this.baudRateList=[{id:1,text:"1200"},{id:2,text:"2400"},{id:3,text:"4800"},{id:4,text:"9600"}],this.parityList=[{id:0,text:"奇校验"},{id:1,text:"偶校验"},{id:2,text:"无校验"}],this.dataBitsList=[{id:5,text:"5位"},{id:6,text:"6位"},{id:7,text:"7位"},{id:8,text:"8位"}],this.stopBitsList=[{id:1,text:"1位"},{id:1.5,text:"1.5"},{id:2,text:"2位"}]},methods:{getAllInterface:function(){var t=this,e="";e="./api/v1/device/allInterface",this.$axios({method:"get",url:e,headers:{token:this.$store.getters.token}}).then((function(e){var r=e.data;"0"===r.Code?(t.listLoading=!1,t.filtedData=r.Data):"1"===r.Code?t.$message.error(r.Message):"-1"===r.Code?(t.$message.error(r.Message),t.$store.dispatch("user/resetToken"),t.$router.push("/login?redirect=".concat(t.$route.fullPath))):t.$message.error("返回未知错误，错误码："+r.Code)})).catch((function(e){t.$message.error("出错了"+JSON.stringify(e))}))},addInterface:function(){this.form={},this.editVisible=!0},saveEditInterface:function(){this.editVisible=!1},changeDHCP:function(t){"1"===t&&(this.form.IP="",this.form.Netmask="",this.form.Broadcast="")},saveEditNetWork:function(){var t=this;"1"===this.form.DHCP&&(this.form.IP="",this.form.Netmask="",this.form.Broadcast=""),this.$axios({method:"post",url:"./api/v1/network/param",data:t.form,headers:{token:this.$store.getters.token}}).then((function(e){t.editVisible=!1,t.getNetWorkList()})).catch((function(e){t.$message.error("出错了"+JSON.stringify(e))}))}}},o=i,s=(r("52bd"),r("2877")),n=Object(s["a"])(o,a,l,!1,null,null,null);e["default"]=n.exports},"52bd":function(t,e,r){"use strict";var a=r("d177"),l=r.n(a);l.a},d177:function(t,e,r){}}]);